define("web:static/zf/mapSearch/base.js",function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={currentType:~~$("#J_search_panel .selected").data("type"),computeLabelId:function(n,t){return n=(n+"").substr(0,8),t=(t+"").substr(0,8),n.split(".").join("_")+"_"+t.split(".").join("_")},convertRentType:function(n){return 2===~~n?"合租":"整租"},addNagivationControl:function(n){var t=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE,enableGeolocation:!0});n.addControl(t);var e=new BMap.GeolocationControl;e.addEventListener("locationSuccess",function(n){var t="";t+=n.addressComponent.province,t+=n.addressComponent.city,t+=n.addressComponent.district,t+=n.addressComponent.street,t+=n.addressComponent.streetNumber,console.log("当前定位地址为："+t)}),e.addEventListener("locationError",function(n){console.error(n.message)}),n.addControl(e)},renderRegionlistRelated:function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];$("#J_area_list").show(),$("#J_house_list").hide();var t=n.title,e=void 0===t?"":t,s=n.crumbList,i=void 0===s?[]:s,o=n.dataList,r=void 0===o?[]:o,l=n.regionType,d=void 0===l?0:l,c=n.rtotal,u=void 0===c?9:c,p=n.htotal,m=void 0===p?99:p;d=+d,a.renderRegionHeader(e,i),a.renderRegionHouseTips(d,m,u);var g=r.length&&r.map(function(n){return'\n            <div class="list-item" \n                 data-id="'+n.id+'"\n                 data-lng="'+n.lng+'" \n                 data-lat="'+n.lat+'" \n                 data-type="'+d+'" >\n              <span class="title">'+n.name+'</span>\n              <span class="total">'+n.count+'套\n                <span class="icon iconfont icon-arrow_left"></span>\n              </span>\n            </div>\n            <div class="ie-clear"></div>\n        '})||[];$("#J_area_list").html(g.join(""))},renderSuggestHouseList:function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];$("#J_area_list").hide(),$("#J_house_list").show();var t=n.total,e=void 0===t?0:t,s=n.list,i=void 0===s?[]:s,o=n.crumbList,r=void 0===o?[]:o,l=n.location,d=n.address,c=n.name;if(l=l+" "+d,a.renderRegionHeader(c,r,l),a.renderRegionHouseTips(3,e),0===i.length)$("#J_house_list").html('<div class="no-houselist">暂无房源信息</div>');else{var u=i.length&&i.map(function(n){var t=n.tags||[],e=t.slice(0,3).map(function(n){return'<span class="tagItem">'+n+"</span>"}),s="/static/zf/common/default/loading/img_loading_256_192.png",i=n.picUrls&&n.picUrls[0]||s,o="";n.logoUrl?o='<img class="brand-img" src='+n.logoUrl+' alt="">':n.brandName&&(o=n.brandName);var r=1===~~n.isGuaranty?'<span class="guaranty">信用免押</span>':"";return"<a href="+n.url+' target="_blank" class="listItem" style="display: block"><div class="left"><img class="lazy" src='+i+'><span class="house-type house-type-'+n.houseType+'"></span></div><div class="right"><div class="title">'+a.convertRentType(n.rentType)+" · "+(n.layout||"0室0厅")+" · "+(n.area||"0㎡")+'</div><p class="tag-wrap">'+e.join("")+'</p><p class="month-price">'+(n.price||"0")+"元/月"+r+'</p><p class="house-logo">'+o+"</p></div></a>"});$("#J_house_list").html("").append(u.join(""))}},renderRegionHouseTips:function(n){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],e=arguments.length<=2||void 0===arguments[2]?0:arguments[2],a=["区域","板块","小区","房源"],s=3!==n&&'<span class="number area-total">'+e+"</span> 个"+a[n]+"，"||" ",i='<span class="number house-total">'+t+"</span> 套市场房源",o="为您找到 "+(s+i);$("#J_maplist_tips").html(o)},renderRegionHeader:function(n,t,e){void 0===n&&(n=""),void 0===t&&(t=[]),$("#J_maplist_header .title").html(n);var a=t.length,s=a&&a>1&&t.map(function(n,t){return'\n            <span class="crumb-item" \n                  data-id="'+n.id+'" \n                  data-lng="'+n.lng+'" \n                  data-lat="'+n.lat+'" \n                  data-type="'+t+'" \n                  data-tail='+(a===t+1)+" \n            >\n                "+n.name+"\n            </span>\n        "})||[];$("#J_maplist_header .crumb").html(s.join("")),e&&$("#J_maplist_header .position").html('\n                <span class="icon iconfont icon-search_location"></span>\n                <span class="location" title="'+e+'">'+e+"</span>")},jointRegionlistInfo:function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=n.breadcrumb,e=void 0===t?{}:t,s=n.list,i=void 0===s?[]:s,o=n.showLevel,r=void 0===o?2:o,l=n.totalCount,d=void 0===l?0:l,c=e.city,u=void 0===c?{}:c,p=e.district,m=void 0===p?{}:p,g=e.block,v=void 0===g?{}:g,h=[u,m,v].filter(function(n){return n.id&&n.name}),_={title:h[h.length-1].name,crumbList:h,dataList:i,regionType:r-1,rtotal:i.length,htotal:d};a.renderRegionlistRelated(_)},jointSearchParamStr:function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];for(var e in n)n[e]&&t.push(n[e]);return t.length?"/"+t.join("-"):""}};t["default"]=a,e.exports=t["default"]});