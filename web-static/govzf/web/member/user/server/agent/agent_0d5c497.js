define("web:static/member/user/server/agent/agent.js",function(a){"use strict";a.async(["common:components/jquery/jquery.js","common:components/pcUI/pager/pager.js","common:components/ui/template/template.js"],function(a,e,n){var t={listTPL:"<li class=\"clearfix\">\r\n    <div><%=list.name %></div>\r\n    <div><%=list.practicingCertificateNumber?list.practicingCertificateNumber:'- -' %></div>\r\n    <div><%=list.companyName %></div>\r\n    <div><%=list.workingYears?list.workingYears:'- -' %></div>\r\n</li>",config:{currentPage:1,totalPage:"",pageSize:10},init:function(){this.resetData(),this.initAjax(),this.searchData()},resetData:function(){a("#agent-reset").on("click",function(){location.reload()})},initAjax:function(e,t){var i=this,o={pageNo:window.configPager.page,pageSize:i.config.pageSize};"undefined"!=typeof e&&(o.accountNum=e),"undefined"!=typeof t&&(o.accountName=t),a.ajax({url:window.configPager.agentListUrl,type:"get",data:o,dataType:"json",success:function(e){if(console.log(e),e.success){i.config.totalPage=Math.ceil(e.data.total/10),i.config.totalPage>1?(a(".pagenation").show(),i.pagination()):a(".pagenation").hide();var t=e.data.list,o=[];if(0===t.length)a(".num").html(0),a(".agent-container").html("");else{for(var c=0;c<t.length;c++){var r=t[c];o.push(n.parse(i.listTPL,{list:r}))}a(".num").html(e.data.total),a(".agent-container").html(o.join(""))}}else console.log(e.code)}})},searchData:function(){var e=this;a("#agent-search").on("click",function(){var n=a("#agent-business").val(),t=a("#agent-name").val();""==n&&""==t?(window.configPager.page=1,e.initAjax("","")):(window.configPager.page=1,e.initAjax(n,t))})},pagination:function(){{var e=this;a("#agent_pagenation").pager({pageTotal:Number(e.config.totalPage),currentPage:window.configPager.page||Number(e.config.currentPage)||1,perPage:5,className:"pagination-box",currentClassName:"current-pager"}).on("pager:switch",function(e,n){console.log(n),a(".ui2-pager-current").html();var t=location.search,i=/page\=[^&]+/,o=null;t&&i.test(t)&&(o=location.pathname+t.replace(i,"page="+n)),t||(o=location.pathname+"?page="+n),t&&!i.test(t)&&(o=location.href+"&page="+n),location.href=o})}}};t.init()})});