define("web:static/member/account/address/address.js",function(a){"use strict";a.async(["common:components/jquery/jquery.js","common:components/pcUI/dialog/dialog.js","common:components/pcUI/tips/tips.js"],function(a,e,o){var s={init:function(){this.getBaseInfo(),this.bindEvent()},getBaseInfo:function(){a.ajax({url:"/web/account/C/baseinfoC",type:"GET",success:function(e){if(e.success){var s=e.data;if(s.area&&s.place&&s.zipCode){a("#J_area").data("id",s.area),s.area=mypage.config[s.area].name;var t=a(".drop_tit span").text()+" "+s.area;a("#J_area").val(t),a("#J_address").val(s.place),a("#J_postCode").val(s.zipCode)}}else o.show("发生错误")}})},bindEvent:function(){a("#addrInput").mouseover(function(){a(".dropDiv").addClass("myshow"),a("#addrInput .iconfont").removeClass("icon-arrow_down").addClass("icon-arrow_up")}),a("#addrInput").mouseleave(function(){a(".dropDiv").removeClass("myshow"),a("#addrInput .iconfont").removeClass("icon-arrow_up").addClass("icon-arrow_down")}),a(".drop_body>span").on("click",function(){a(".drop_body>span").removeClass("myselected"),a(this).addClass("myselected");var e=a(".drop_tit span").text()+" "+a(".drop_body .myselected").text();console.log(e),a("#J_area").val(e),console.log(a(".drop_body .myselected").data("id")),a("#J_area").data("id",a(".drop_body .myselected").data("id")),console.log("id",a("#J_area").data("id"))}),a("#J_validate").click(function(){var e=a("#J_address").val(),s=a("#J_postCode").val(),t=a("#J_area").data("id");if(console.log(t),""==e.trim())return o.show("请选择行政区"),!1;if(""==e.trim())return o.show("请录入详细地址"),!1;if(!/^\d{6}$/.test(s))return o.show("请输入6位数的邮编"),!1;var n={area:String(t),place:e,zipCode:String(s)};a.ajax({url:"/web/account/regional",type:"POST",contentType:"application/json;charset=utf-8",data:JSON.stringify(n),success:function(a){a.success?(setTimeout(function(){location.href="/pc/user/setting"},1e3),o.show("保存成功",1e3,!0)):o.show(a.fieldErrors[0].msg)}})})}};s.init()})});