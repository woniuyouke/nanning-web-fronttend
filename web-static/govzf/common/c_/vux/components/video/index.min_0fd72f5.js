define("common:components/vux/components/video/index.min.js",function(e,t,i){!function(e,n){"object"==typeof t&&"object"==typeof i?i.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof t?t.vuxVideo=n():e.vuxVideo=n()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function n(){i(1)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(3),s=i(5),a=i(2),r=n,l=a(o.a,s.a,!1,r,null,null);t.default=l.exports},function(){},function(e){e.exports=function(e,t,i,n,o,s){var a,r=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,r=e.default);var d="function"==typeof r?r.options:r;t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),i&&(d.functional=!0),o&&(d._scopeId=o);var u;if(s?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=u):n&&(u=n),u){var c=d.functional,p=c?d.render:d.beforeCreate;c?(d._injectStyles=u,d.render=function(e,t){return u.call(t),p(e,t)}):d.beforeCreate=p?[].concat(p,u):[u]}return{esModule:a,exports:r,options:d}}},function(e,t,i){"use strict";var n=i(4);t.a={name:"video",props:{cover:String,video:String},beforeCreate:function(){this._player=Object(n.a)(this.$el.querySelector("video"))}}},function(e,t){"use strict";function i(e,t){return parseInt(e.style[t]||window.getComputedStyle(e,null).getPropertyValue(t))}function n(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}function o(e,t){e.classList?e.classList.add(t):n(e,t)||(e.className+=""+t)}function s(e,t){e.classList?e.classList.remove(t):n(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}function a(e,t){(!isFinite(e)||0>e)&&(e=0);var i=t.alwaysShowHours?[0]:[];return Math.floor(e/3600)%24&&i.push(Math.floor(e/3600)%24),i.push(Math.floor(e/60)%60),i.push(Math.floor(e%60)),i=i.join(":"),1==t.timeFormatType&&(i=i.replace(/(:|^)([0-9])(?=:|$)/g,"$10$2")),i}function r(){return document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen}function l(e){e=e.toLowerCase().split("?")[0];var t=e.substring(e.lastIndexOf(".")+1),i=/mp4|m4v|ogg|ogv|m3u8|webm|webmv|wmv|mpeg|mov/gi.test(t)?"video/":"audio/";switch(t){case"mp4":case"m4v":case"m4a":return i+"mp4";case"webm":case"webma":case"webmv":return i+"webm";case"ogg":case"oga":case"ogv":return i+"ogg";case"m3u8":return"application/x-mpegurl";case"ts":return i+"mp2t";default:return i+t}}function d(e,t){return e&&!t?l(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t}function u(e,t,i){var n,o,s,a=[];if(t.type)if("string"==typeof t.type)a.push({type:t.type,url:i});else for(n=0;n<t.type.length;n++)a.push({type:t.type[n],url:i});else if(null!==i)a.push({type:d(i,e.getAttribute("type")),url:i});else for(n=0;n<e.children.length;n++)o=e.children[n],1==o.nodeType&&"source"==o.tagName.toLowerCase()&&(i=o.getAttribute("src"),a.push({type:d(i,o.getAttribute("type")),url:i}));if(c.features.isBustedAndroid&&(e.canPlayType=function(e){return/video\/(mp4|m4v)/i.test(e)?"maybe":""}),c.features.isChromium&&(e.canPlayType=function(e){return/video\/(webm|ogv|ogg)/i.test(e)?"maybe":""}),c.features.supportsCanPlayType)for(n=0;n<a.length;n++)if("video/m3u8"==a[n].type||""!==e.canPlayType(a[n].type).replace(/no/,"")||""!==e.canPlayType(a[n].type.replace(/mp3/,"mpeg")).replace(/no/,"")||""!==e.canPlayType(a[n].type.replace(/m4a/,"mp4")).replace(/no/,"")){s=!0;break}return s}var c={};c.config={type:"",mediaTitle:"",nativeControls:!1,autoplay:!1,preload:"none",videoWidth:"100%",videoHeight:"auto",aspectRation:16/9,audioWidth:"100%",audioHeight:44,autoLoop:!1,timeFormatType:1,alwaysShowHours:!1,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,enableFullscreen:!0,pauseOtherPlayers:!0,duration:0,success:null,error:null},function(e){var t=window.navigator.userAgent.toLowerCase(),i=document.createElement("video");e.isiOS=/iphone|ipod|ipad/i.test(t)&&!window.MSStream,e.isAndroid=/android/i.test(t)&&!window.MSStream,e.isBustedAndroid=/android 2\.[12]/i.test(t),e.isChromium=/chromium/i.test(t),e.hasTouch="ontouchstart"in window,e.supportsCanPlayType=void 0!==i.canPlayType,e.isVendorBigPlay=/iphone/i.test(t)&&!window.MSStream,e.isVendorControls=/baidu/i.test(t),e.isVendorFullscreen=/micromessenger|weibo/i.test(t),e.isVendorAutoplay=/v819mini/i.test(t)||e.isiOS,e.nativeFullscreenPrefix=function(){return i.requestFullScreen?"":i.webkitRequestFullScreen?"webkit":i.mozRequestFullScreen?"moz":i.msRequestFullScreen?"ms":"-"}(),e.hasOldNativeFullScreen="-"==e.nativeFullscreenPrefix&&i.webkitEnterFullscreen,e.hasOldNativeFullScreen&&/mac os x 10_5/i.test(t)&&(e.nativeFullscreenPrefix="-",e.hasOldNativeFullScreen=!1)}(c.features={});var p=0;c.players={},c.MediaPlayer=function(e,t){var i,n=this;if(!e.isInstantiated){e.isInstantiated=!0,n.media=e;var o=n.media.tagName.toLowerCase();if(/audio|video/.test(o)){n.isVideo="video"===o,n.options={};for(i in c.config)n.options[i]=c.config[i];try{for(i in t)n.options[i]=t[i];var s=JSON.parse(n.media.getAttribute("data-config"));for(i in s)n.options[i]=s[i]}catch(e){}if(n.options.autoplay&&(n.options.autoplay=!c.features.isVendorAutoplay),n.isVideo||(n.options.alwaysShowControls=!0),n.options.nativeControls||c.features.isVendorControls)n.media.setAttribute("controls","controls");else{var a=n.media.getAttribute("src");a=""===a?null:a,u(n.media,n.options,a)?(n.id="zym_"+p++,c.players[n.id]=n,n.init()):alert("不支持此"+(n.isVideo?"视":"音")+"频")}}}},c.MediaPlayer.prototype={isControlsVisible:!0,isFullScreen:!1,setPlayerSize:function(e){var t=this,n=i(t.container,"width");if(e>n&&(t.width=n),t.enableAutoSize){var o=t.media.videoWidth,s=t.media.videoHeight;o&&s&&Math.abs(t.options.aspectRation-o/s)<.1&&(t.options.aspectRation=o/s),t.height=parseInt(n/t.options.aspectRation)}t.container.style.width=t.width+"px",t.media.style.height=t.container.style.height=t.height+"px"},showControls:function(){var e=this;e.isControlsVisible||(e.controls.style.bottom=0,e.options.mediaTitle&&(e.title.style.top=0),e.isControlsVisible=!0)},hideControls:function(){var e=this;e.isControlsVisible&&!e.options.alwaysShowControls&&(e.controls.style.bottom="-45px",e.options.mediaTitle&&(e.title.style.top="-35px"),e.isControlsVisible=!1)},setControlsTimer:function(e){var t=this;clearTimeout(t.controlsTimer),t.controlsTimer=setTimeout(function(){t.hideControls()},e)},updateTimeline:function(e){var t=this,n=void 0!==e?e.target:t.media,o=null,s=i(t.slider,"width");if(n.buffered&&n.buffered.length>0&&n.buffered.end&&n.duration?o=n.buffered.end(n.buffered.length-1)/n.duration:void 0!==n.bytesTotal&&n.bytesTotal>0&&void 0!==n.bufferedBytes?o=n.bufferedBytes/n.bytesTotal:e&&e.lengthComputable&&0!==e.total&&(o=e.loaded/e.total),null!==o&&(o=Math.min(1,Math.max(0,o)),t.loaded.style.width=s*o+"px",t.media.paused&&setTimeout(function(){t.loaded.style.width=s*o+"px",t.updateTimeline()},300)),void 0!==t.media.currentTime&&t.media.duration){var a=Math.round(s*t.media.currentTime/t.media.duration);t.current.style.width=a+"px",t.handle.style.left=a-Math.round(i(t.handle,"width")/2)+"px"}},updateTime:function(){var e=this;e.currentTime.innerHTML=a(e.media.currentTime,e.options),(e.options.duration>1||e.media.duration>1)&&(e.durationDuration.innerHTML=a(e.options.duration>1?e.options.duration:e.media.duration,e.options))},enterFullScreen:function(){var e=this;if(e.normalHeight=i(e.container,"height"),e.normalWidth=i(e.container,"width"),"-"!=c.features.nativeFullscreenPrefix)e.container[c.features.nativeFullscreenPrefix+"RequestFullScreen"]();else if(c.features.hasOldNativeFullScreen)return void e.media.webkitEnterFullscreen();o(document.documentElement,"zy_fullscreen"),e.media.style.width=e.container.style.width="100%",e.media.style.height=e.container.style.height="100%",o(e.fullscreenBtn,"zy_unfullscreen"),e.isFullScreen=!0},exitFullScreen:function(){var e=this;(r()||e.isFullScreen)&&("-"!=c.features.nativeFullscreenPrefix?document[c.features.nativeFullscreenPrefix+"CancelFullScreen"]():c.features.hasOldNativeFullScreen&&document.webkitExitFullscreen()),s(document.documentElement,"zy_fullscreen"),e.media.style.width=e.container.style.width=e.normalWidth+"px",e.media.style.height=e.container.style.height=e.normalHeight+"px",s(e.fullscreenBtn,"zy_unfullscreen"),e.isFullScreen=!1},buildContainer:function(){var e=this;e.container=e.media.parentNode,e.container.style.overflow="hidden",e.container.style.height=(e.isVideo?i(e.container,"width")/e.options.aspectRation:e.options.audioHeight)+"px",e.container.innerHTML='<div class="zy_wrap"></div><div class="zy_controls"></div>'+(e.options.mediaTitle?'<div class="zy_title">'+e.options.mediaTitle+"</div>":""),e.title=e.container.querySelector(".zy_title"),e.media.setAttribute("preload",e.options.preload),e.container.querySelector(".zy_wrap").appendChild(e.media),e.controls=e.container.querySelector(".zy_controls"),e.isVideo&&(e.width=e.options.videoWidth,e.height=e.options.videoHeight,"100%"==e.width&&"auto"==e.height&&(e.enableAutoSize=!0),e.setPlayerSize(e.width,e.height))},buildPlaypause:function(){function e(e){(t.media.isUserClick||t.options.autoplay)&&("play"===e?(s(i,"zy_play"),o(i,"zy_pause")):(s(i,"zy_pause"),o(i,"zy_play")))}var t=this,i=document.createElement("div");i.className="zy_playpause_btn zy_play",t.controls.appendChild(i),i.addEventListener("click",function(){t.media.isUserClick=!0,t.media.paused?(t.media.play(),t.media.paused||t.options.alwaysShowControls||t.setControlsTimer(3e3)):t.media.pause()}),t.media.addEventListener("play",function(){e("play")}),t.media.addEventListener("playing",function(){e("play")}),t.media.addEventListener("pause",function(){e("pse")}),t.media.addEventListener("paused",function(){e("pse")})},buildTimeline:function(){var e=this,t=document.createElement("div");t.className="zy_timeline",t.innerHTML='<div class="zy_timeline_slider"><div class="zy_timeline_buffering" style="display:none"></div><div class="zy_timeline_loaded"></div><div class="zy_timeline_current"></div><div class="zy_timeline_handle"></div></div>',e.controls.appendChild(t),e.slider=t.children[0],e.buffering=e.slider.children[0],e.loaded=e.slider.children[1],e.current=e.slider.children[2],e.handle=e.slider.children[3];var n=!1,o=e.slider.offsetLeft,s=i(e.slider,"width"),a=function(t){var i,a=0;i=t.changedTouches?t.changedTouches[0].pageX:t.pageX,e.media.duration&&(o>i?i=o:i>s+o&&(i=s+o),a=(i-o)/s*e.media.duration,n&&a!==e.media.currentTime&&(e.media.currentTime=a))};c.features.hasTouch?e.slider.addEventListener("touchstart",function(t){n=!0,a(t),o=e.slider.offsetLeft,s=i(e.slider,"width"),e.slider.addEventListener("touchmove",a),e.slider.addEventListener("touchend",function(){n=!1,e.slider.removeEventListener("touchmove",a)})}):e.slider.addEventListener("mousedown",function(t){n=!0,a(t),o=e.slider.offsetLeft,s=i(e.slider,"width"),e.slider.addEventListener("mousemove",a),e.slider.addEventListener("mouseup",function(){n=!1,e.slider.addEventListener("mousemove",a)})}),e.slider.addEventListener("mouseenter",function(){e.slider.addEventListener("mousemove",a)}),e.slider.addEventListener("mouseleave",function(){n||e.slider.removeEventListener("mousemove",a)}),e.media.addEventListener("timeupdate",function(t){e.updateTimeline(t)})},buildTime:function(){var e=this,t=document.createElement("div");t.className="zy_time",t.innerHTML='<span class="zy_currenttime">'+a(0,e.options)+'</span>/<span class="zy_duration">'+a(e.options.duration,e.options)+"</span>",e.controls.appendChild(t),e.currentTime=t.children[0],e.durationDuration=t.children[1],e.media.addEventListener("timeupdate",function(){e.updateTime()})},buildFullscreen:function(){var e=this;if("-"!=c.features.nativeFullscreenPrefix){var t=function(){e.isFullScreen&&(r()||e.exitFullScreen())};document.addEventListener(c.features.nativeFullscreenPrefix+"fullscreenchange",t)}e.fullscreenBtn=document.createElement("div"),e.fullscreenBtn.className="zy_fullscreen_btn",e.controls.appendChild(e.fullscreenBtn),e.fullscreenBtn.addEventListener("click",function(){"-"!=c.features.nativeFullscreenPrefix&&r()||e.isFullScreen?e.exitFullScreen():e.enterFullScreen()})},buildDec:function(){var e=this,t=document.createElement("div");t.className="dec_loading",t.style.display="none",e.container.appendChild(t);var i=document.createElement("div");i.className="dec_error",i.style.display="none",i.innerHTML="播放异常",e.container.appendChild(i);var n=document.createElement("div");c.features.isVendorBigPlay||(n.className="dec_play",e.container.appendChild(n),n.addEventListener("click",function(){e.media.isUserClick=!0,e.media.play(),e.media.paused||e.options.alwaysShowControls||e.setControlsTimer(3e3)})),e.media.addEventListener("play",function(){e.media.isUserClick&&(n.style.display="none",t.style.display="",e.buffering.style.display="none")}),e.media.addEventListener("playing",function(){n.style.display="none",t.style.display="none",e.buffering.style.display="none",i.style.display="none"}),e.media.addEventListener("seeking",function(){t.style.display="",n.style.display="none",e.buffering.style.display=""}),e.media.addEventListener("seeked",function(){t.style.display="none",e.buffering.style.display="none"}),e.media.addEventListener("pause",function(){n.style.display=""}),e.media.addEventListener("waiting",function(){t.style.display="",n.style.display="none",e.buffering.style.display=""}),e.media.addEventListener("error",function(o){t.style.display="none",n.style.display="",e.buffering.style.display="none",e.media.pause(),i.style.display="","function"==typeof e.options.error&&e.options.error(o)})},init:function(){var e=this,t=["Container","Playpause","Timeline","Time"];e.options.enableFullscreen&&!c.features.isVendorFullscreen&&e.isVideo&&t.push("Fullscreen"),e.isVideo&&t.push("Dec");for(var i=0;i<t.length;i++)try{e["build"+t[i]]()}catch(e){}e.isVideo&&(c.features.hasTouch?e.media.addEventListener("click",function(){e.isControlsVisible?e.hideControls():(e.showControls(),e.media.paused||e.options.alwaysShowControls||e.setControlsTimer(3e3))}):(e.media.addEventListener("click",function(){e.media.paused?e.media.play():e.media.pause()}),e.container.addEventListener("mouseenter",function(){e.showControls(),e.options.alwaysShowControls||e.setControlsTimer(3e3)}),e.container.addEventListener("mousemove",function(){e.showControls(),e.options.alwaysShowControls||e.setControlsTimer(3e3)})),e.options.hideVideoControlsOnLoad&&e.hideControls(),e.media.addEventListener("loadedmetadata",function(){e.enableAutoSize&&setTimeout(function(){isNaN(e.media.videoHeight)||e.setPlayerSize()},50)})),e.media.addEventListener("play",function(){var e;for(var t in c.players)if(e=c.players[t],e.id!=i.id&&i.options.pauseOtherPlayers&&!e.paused&&!e.ended)try{e.media.pause()}catch(i){}}),window.addEventListener("orientationchange",function(){setTimeout(function(){e.setPlayerSize()},500)}),e.media.addEventListener("ended",function(t){e.media.currentTime=0,e.options.autoLoop?e.media.play():(e.isVideo&&setTimeout(function(){e.container.querySelector(".dec_loading").style.display="none"},20),e.media.pause()),e.updateTimeline(t)}),e.media.addEventListener("loadedmetadata",function(){e.updateTime()}),e.options.autoplay&&(e.media.isUserClick=!1,e.media.play()),"function"==typeof e.options.success&&e.options.success(e.media)}},t.a=function(e,t){return new c.MediaPlayer(e,t)}},function(e,t){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"zy_media"},[i("video",{attrs:{poster:e.cover,"data-config":'{"mediaTitle": "《疯狂动物城》--腾讯视频"}'}},[i("source",{attrs:{src:e.video,type:"video/mp4"}}),e._v("\n      您的浏览器不支持HTML5视频\n  ")])])},n=[],o={render:i,staticRenderFns:n};t.a=o}])})});