define("common:components/pcUI/droplist/droplist.js",function(t,i,e){!function(i){"object"==typeof e&&"object"==typeof e.exports?e.exports=i(t("common:components/jquery/jquery.js"),t("common:components/pcUI/class/class.js")):i(window.jQuery,window.jQuery.klass)}(function(t,i){var e=i.$factory("droplist",{initialize:function(i){this.options=t.extend({items:{},list:null,dom:null,container:document.body,width:!1,height:!1,hover:!0,defaultValue:null,selectedClassName:""},i||{}),this.init()},init:function(){var i=this,e=i.options;i.value="",i.wraper=t('<div class="ui2-droplist"><i class="ui2-droplist-arrow"></i></div>').appendTo(e.container),i.select=t('<span class="ui2-droplist-select"></span>').appendTo(i.wraper),i.list=t('<ul class="ui2-droplist-list"></ul>').appendTo(i.wraper),i.dom=e.dom?t(e.dom):null,i.setList(e.dom||e.list||e.items,e.defaultValue),i.isHide=!0,i.initSize(),i.initEvent()},initEvent:function(){{var i=this;i.options}i.options.hover?i.wraper.hover(t.proxy(i.open,i),t.proxy(i.close,i)):(i.select.click(function(){i.isHide?i.open():i.close()}),i.wraper.click(function(t){t.stopPropagation()}),i.o2s(document,"click",function(){!i.isHide&&i.close()})),i.list.delegate(".ui2-droplist-item","click",function(){var e=t(this),s=e.attr("data-droplist-key"),o=e.attr("data-droplist-value");i.close(),i.trigger("select",[s,o]),i.setValue(o,s)})},open:function(){var t=this;t.wraper.hasClass("ui2-droplist-disabled")||(t.wraper.addClass("ui2-droplist-open"),t.resetWidth(),t.isHide=!1,t.trigger("open"))},close:function(){var t=this;t.wraper.hasClass("ui2-droplist-disabled")||(t.wraper.removeClass("ui2-droplist-open"),t.isHide=!0,t.trigger("close"))},setList:function(i,s,o){var l,r=this;if((i.nodeType||i instanceof t||"string"==typeof i)&&(l=t(i),i=r.dom2list(i)),r.list.html(e.createListHtml(i)),r.initSize(),r.dom&&(!l||l[0]!==r.dom[0])&&r.resetDom(i),s)r.setValue(s,o);else{var a=t(".ui2-droplist-item:first",r.list);r.setValue(a.attr("data-droplist-value"),a.attr("data-droplist-key"))}},resetDom:function(t){this.dom.html(e.createDomHtml(t))},resetWidth:function(){var t=this;t.list.css("width","auto"),t.wraper.add(t.list).css("width",t.options.width||t.list.width())},initSize:function(){var t=this,i=t.options.height;t.resetWidth(),i&&(i=parseInt(i),t.wraper.find(".ui2-droplist-arrow").css("top",parseInt((i-e.ARROW_WIDTH)/2)),t.wraper.css("height",i),t.wraper.find(".ui2-droplist-select, .ui2-droplist-group-label, .ui2-droplist-item-txt").css("line-height",i+"px"),t.list.css("top",i))},setValue:function(t,i){var e=this,s=e.list.find('[data-droplist-value="'+t+'"]');if(s.length){var o=e.options.selectedClassName;o&&(e.list.find(".ui2-droplist-item-txt").removeClass(o),s.find(".ui2-droplist-item-txt").addClass(o)),i||(i=s.attr("data-droplist-key"))}e.select.html(i),e.value=t,e.dom&&e.dom.val(t)},getValue:function(){return this.value},dom2list:function(i,e){var s={},o=this;return e||t("> optgroup",i).each(function(){s[t(this).attr("label")]=o.dom2list(this,!0)}),t("> option",i).each(function(){s[t(this).html()]=this.value}),s},disable:function(){var t=this;t.wraper.addClass("ui2-droplist-disabled"),t.dom&&t.dom.attr("disabled",!0)},enable:function(){var t=this;t.wraper.addClass("ui2-droplist-disabled"),t.dom&&t.dom.removeAttr("disabled")},destroy:function(){var t=this;t.wraper.remove(),t.ofs(document,"click"),t.dom&&(t.dom=null)}});return e.createListHtml=function(i){var s=[];return t.each(i,function(t,i){s.push("object"==typeof i&&i?'                <li class="ui2-droplist-group">                    <span href="javascript:;" class="ui2-droplist-group-label">'+t+"</span>                    <ul>"+e.createListHtml(i)+"</ul>                </li>":'<li class="ui2-droplist-item" data-droplist-key="'+t+'" data-droplist-value="'+i+'"><a href="javascript:;" class="ui2-droplist-item-txt">'+t+"</a></li>")}),s.join("")},e.createDomHtml=function(i){var s=[];return t.each(i,function(t,i){s.push("object"==typeof i&&i?'<optgroup label="'+t+'">'+e.createDomHtml(i)+"</optgroup>":'<option value="'+i+'">'+t+"</option>")}),s.join("")},e.ARROW_WIDTH=5,e})});