define("common:components/pcUI/nstSlider/jquery.nstSlider.js",function(){!function(){var t,a,e,r,i,n,l,_,o,d={setNakedBarDelta:function(t,a){if("stickToSides"===t)o={toEndWidth:a,toBeginLeft:0,toBeginWidth:a};else{if("middle"!==t)throw new Error("unknown position of setNakedBarDelta: "+t);o={toEndWidth:a/2,toBeginLeft:a/2,toBeginWidth:a/2}}},getSliderValuesAtPositionPx:function(t,a){var e,r,i=this,n=i.data("pixel_to_value_mapping");if("undefined"!=typeof n)e=n(t),r=n(a);else{var l=d.getSliderWidthPx.call(i)-i.data("left_grip_width");e=d.inverse_rangemap_0_to_n.call(i,t,l),r=d.inverse_rangemap_0_to_n.call(i,a,l)}return[e,r]},validateAndMoveGripsToPx:function(t,a){var e=this,r=d.getSliderWidthPx.call(e)-e.data("left_grip_width");if(r>=a&&t>=0&&r>=t&&(!e.data("has_right_grip")||a>=t)){var i=e.data("cur_min"),n=e.data("cur_max");d.set_position_from_px.call(e,t,a),d.refresh_grips_style.call(e),d.notify_changed_implicit.call(e,"drag_move",i,n)}return e},updateAriaAttributes:function(){var t=this,a=t.data("settings"),e=t.find(a.left_grip_selector);if(t.data("has_right_grip")){var r=t.find(a.right_grip_selector);e.attr("aria-valuemin",t.data("range_min")).attr("aria-valuenow",s.get_current_min_value.call(t)).attr("aria-valuemax",s.get_current_max_value.call(t)),r.attr("aria-valuemin",s.get_current_min_value.call(t)).attr("aria-valuenow",s.get_current_max_value.call(t)).attr("aria-valuemax",t.data("range_max"))}else e.attr("aria-valuemin",t.data("range_min")).attr("aria-valuenow",s.get_current_min_value.call(t)).attr("aria-valuemax",t.data("range_max"));return t},getSliderWidthPx:function(){var t=this;return Math.round(t.width())},getGripPositionPx:function(t){return parseInt(t.css("left").replace("px",""),10)},getLeftGripPositionPx:function(){var t=this,a=t.data("settings"),e=t.find(a.left_grip_selector);return d.getGripPositionPx.call(t,e)},getRightGripPositionPx:function(){var t=this,a=t.data("settings");if(t.data("has_right_grip"))return d.getGripPositionPx.call(t,t.find(a.right_grip_selector));var e=d.getSliderWidthPx.call(t)-t.data("left_grip_width");return d.rangemap_0_to_n.call(t,t.data("cur_max"),e)},getLeftGripWidth:function(){var t=this,a=t.data("settings"),e=t.find(a.left_grip_selector);return Math.round(e.width())},getRightGripWidth:function(){var t=this,a=t.data("settings"),e=t.find(a.right_grip_selector);return Math.round(e.width())},binarySearchValueToPxCompareFunc:function(t,a,e){return t===a[e]?0:t<a[e]&&0===e?0:a[e-1]<=t&&t<a[e]?0:t>a[e]?1:t<=a[e-1]?-1:void $.error("cannot compare s: "+t+" with a["+e+"]. a is: "+a.join(","))},binarySearch:function(t,a,e,r){for(var i,n,l=0,_=t.length-1;_>=l;){i=(l+_)/2|0,n=e(t,i);var o=r(a,t,i);if(o>0)l=i+1;else{if(!(0>o))return i;_=i-1}}return-1},haveLimits:function(){var t=this,a=t.data("lower-limit"),e=t.data("upper-limit"),r=!1;return"undefined"!=typeof a&&"undefined"!=typeof e&&(r=!0),r},refresh_grips_style:function(){var t=this,a=t.data("settings");if("undefined"!=typeof a.highlight){var e=t.data("highlightedRangeMin");if("undefined"!=typeof e){var r=t.find(a.left_grip_selector),i=t.find(a.right_grip_selector),n=t.data("highlightedRangeMax"),l=t.data("cur_min"),_=t.data("cur_max"),o=a.highlight.grip_class;e>l||l>n?r.removeClass(o):r.addClass(o),e>_||_>n?i.removeClass(o):i.addClass(o)}}},set_position_from_val:function(t,a){var e=this,r=e.data("range_min"),i=e.data("range_max");r>t&&(t=r),t>i&&(t=i),e.data("has_right_grip")?(a>i&&(a=i),r>a&&(a=r)):a=e.data("cur_max");var n=s.value_to_px.call(e,t),l=s.value_to_px.call(e,a);return d.set_handles_at_px.call(e,n,l),e.data("cur_min",t),e.data("has_right_grip")&&e.data("cur_max",a),e},set_position_from_px:function(t,a){var e=this;d.set_handles_at_px.call(e,t,a);var r=d.getSliderValuesAtPositionPx.call(e,t,a),i=r[0],n=r[1];return e.data("cur_min",i),e.data("has_right_grip")&&e.data("cur_max",n),e},set_handles_at_px:function(t,a){var e=this,r=e.data("settings"),i=r.left_grip_selector,n=r.right_grip_selector,l=r.value_bar_selector,_=e.data("left_grip_width");return e.find(i).css("left",t+"px"),e.find(n).css("left",a+"px"),e.data("has_right_grip")?e.find(l).css("left",t+"px").css("width",a-t+_+"px"):(o||d.populateNakedBarDeltas.call(e,t,a,_),a>t?e.find(l).css("left",t+"px").css("width",a-t+o.toEndWidth+"px"):e.find(l).css("left",a+o.toBeginLeft+"px").css("width",t-a+o.toBeginWidth+"px")),e},drag_start_func_touch:function(t,a,r,i,n){var l=this,_=t.originalEvent,o=_.touches[0],s=o.pageY,c=o.pageX,u=Math.abs(l.offset().top-s),g=l.offset().left,f=g-c,h=c-(g+l.width());u>a.touch_tolerance_value_bar_y||f>a.touch_tolerance_value_bar_x||h>a.touch_tolerance_value_bar_x||(_.preventDefault(),e=o.pageX,d.drag_start_func.call(l,o,a,r,i,n))},drag_start_func:function(e,i,n,l,_){var o=this;if(o.find(i.left_grip_selector+","+i.value_bar_selector+","+i.right_grip_selector).removeClass(i.animating_css_class),s.is_enabled.call(o)){var c=$(e.target),u=!1;if("object"==typeof i.highlight&&(u=c.is(i.highlight.panel_selector)),_!==!1||c.is(i.left_grip_selector)||c.is(i.right_grip_selector)||c.is(i.value_bar_selector)||u||c.is(o)){t=o;var g,f,h,p,v,m,x=d.getGripPositionPx.call(o,n),b=d.getSliderWidthPx.call(o)-o.data("left_grip_width"),y=n.offset().left,P=d.getRightGripPositionPx.call(o);f=Math.round(e.pageX)-o.data("left_grip_width")/2,h=Math.abs(y-f),v=f-y,o.data("has_right_grip")?(g=l.offset().left,p=Math.abs(g-f),m=f-g):(p=2*h,m=2*v),i.user_drag_start_callback.call(o,e),h===p?y>f?(x+=v,r=!0):(P+=m,r=!1):p>h?(x+=v,r=!0):(P+=m,r=!1),o.data("has_right_grip")?P>b&&(P=b):x>b&&(x=b),0>x&&(x=0),a=!0;var w=o.data("cur_min"),S=o.data("cur_max");d.set_position_from_px.call(o,x,P),d.refresh_grips_style.call(o),d.notify_changed_implicit.call(o,"drag_start",w,S),"[object Touch]"!==Object.prototype.toString.apply(e)&&e.preventDefault()}}},drag_move_func_touch:function(t){if(a===!0){var e=t.originalEvent;e.preventDefault();var r=e.touches[0];d.drag_move_func(r)}},drag_move_func:function(i){if(a){var n=t,l=n.data("settings"),_=d.getSliderWidthPx.call(n)-n.data("left_grip_width"),o=d.getLeftGripPositionPx.call(n),s=d.getRightGripPositionPx.call(n),c=Math.round(i.pageX),u=c-e,g=n.data("left_grip_width")/2,f=n.offset().left+n.data("left_grip_width")-g,h=f+_;l.crossable_handles===!1&&n.data("has_right_grip")&&(r?h=f+s:f+=o);var p=0,v=0;f>c&&(p=1,v=0),c>h&&(v=1,p=0),l.crossable_handles===!0&&n.data("has_right_grip")&&(r?_>=s&&o+u>s&&(r=!1,o=s):o>=0&&o>s+u&&(r=!0,s=o));var m=o,x=s;(u>0&&!p||0>u&&!v)&&(r?m+=u:x+=u),d.validateAndMoveGripsToPx.call(n,m,x),e=c,"[object Touch]"!==Object.prototype.toString.apply(i)&&i.preventDefault()}},drag_end_func_touch:function(t){var a=t.originalEvent;a.preventDefault();var e=a.touches[0];d.drag_end_func(e)},drag_end_func:function(){var i=t;if("undefined"!=typeof i){a=!1,e=void 0,d.notify_mouse_up_implicit.call(i,r),t=void 0;var n=i.data("settings");i.find(n.left_grip_selector+","+n.value_bar_selector+","+n.right_grip_selector).addClass(n.animating_css_class)}},get_rounding_for_value:function(t){var a=this,e=a.data("rounding"),r=a.data("rounding_ranges");if("object"==typeof r){var i=d.binarySearch.call(a,r,t,function(t,a){return t[a].range},function(t,a,e){return t<a[e].range?e>0?t>=a[e-1].range?0:-1:0:1});if(e=1,i>-1)e=parseInt(r[i].value,10);else{var n=r.length-1;t>=r[n].range&&(e=r[n].value)}}return e},notify_mouse_up_implicit:function(t){var a=this,e=s.get_current_min_value.call(a),r=s.get_current_max_value.call(a),i=!1;(a.data("beforestart_min")!==e||a.data("beforestart_max")!==r)&&(i=!0,a.data("beforestart_min",e),a.data("beforestart_max",r));var n=a.data("settings");return n.user_mouseup_callback.call(a,s.get_current_min_value.call(a),s.get_current_max_value.call(a),t,i),a},notify_changed_implicit:function(t,a,e){var r=this,i=!1;("init"===t||"refresh"===t)&&(i=!0);var n=s.get_current_min_value.call(r),l=s.get_current_max_value.call(r);return i||(a=s.round_value_according_to_rounding.call(r,a),e=s.round_value_according_to_rounding.call(r,e)),(i||n!==a||l!==e)&&(d.notify_changed_explicit.call(r,t,a,e,n,l),i=1),i},notify_changed_explicit:function(t,a,e,r,i){var n=this,l=n.data("settings");return n.data("aria_enabled")&&d.updateAriaAttributes.call(n),l.value_changed_callback.call(n,t,r,i,a,e),n},validate_params:function(t){var a=this,e=a.data("range_min"),r=a.data("range_max"),i=a.data("cur_min"),n=a.data("lower-limit"),l=a.data("upper-limit"),_=d.haveLimits.call(a);"undefined"==typeof e&&$.error("the data-range_min attribute was not defined"),"undefined"==typeof r&&$.error("the data-range_max attribute was not defined"),"undefined"==typeof i&&$.error("the data-cur_min attribute must be defined"),e>r&&$.error("Invalid input parameter. must be min < max"),_&&n>l&&$.error("Invalid data-lower-limit or data-upper-limit"),0===a.find(t.left_grip_selector).length&&$.error("Cannot find element pointed by left_grip_selector: "+t.left_grip_selector),"undefined"!=typeof t.right_grip_selector&&0===a.find(t.right_grip_selector).length&&$.error("Cannot find element pointed by right_grip_selector: "+t.right_grip_selector),"undefined"!=typeof t.value_bar_selector&&0===a.find(t.value_bar_selector).length&&$.error("Cannot find element pointed by value_bar_selector"+t.value_bar_selector)},rangemap_0_to_n:function(t,a){var e=this,r=e.data("range_min"),i=e.data("range_max");return r>=t?0:t>=i?a:Math.floor((a*t-a*r)/(i-r))},inverse_rangemap_0_to_n:function(t,a){var e=this,r=e.data("range_min"),i=e.data("range_max");if(0>=t)return r;if(t>=a)return i;var n=(i-r)*t/a;return n+r}},s={teardown:function(){var t=this;return t.removeData(),$(document).unbind("mousemove.nstSlider").unbind("mouseup.nstSlider"),t.parent().unbind("mousedown.nstSlider").unbind("touchstart.nstSlider").unbind("touchmove.nstSlider").unbind("touchend.nstSlider"),t.unbind("keydown.nstSlider").unbind("keyup.nstSlider"),t},init:function(t){var a=$.extend({animating_css_class:"nst-animating",touch_tolerance_value_bar_y:30,touch_tolerance_value_bar_x:15,left_grip_selector:".nst-slider-grip-left",right_grip_selector:void 0,highlight:void 0,rounding:void 0,value_bar_selector:void 0,crossable_handles:!0,value_changed_callback:function(){},user_mouseup_callback:function(){},user_drag_start_callback:function(){}},t),e=$(document);return e.unbind("mouseup.nstSlider"),e.unbind("mousemove.nstSlider"),e.bind("mousemove.nstSlider",d.drag_move_func),e.bind("mouseup.nstSlider",d.drag_end_func),this.each(function(){var t=$(this),e=t.parent();t.data("enabled",!0);var o=t.data("range_min"),c=t.data("range_max"),u=t.data("cur_min"),g=t.data("cur_max");"undefined"==typeof g&&(g=u),""===o&&(o=0),""===c&&(c=0),""===u&&(u=0),""===g&&(g=0),t.data("range_min",o),t.data("range_max",c),t.data("cur_min",u),t.data("cur_max",g),d.validate_params.call(t,a),t.data("settings",a),"undefined"!=typeof a.rounding?s.set_rounding.call(t,a.rounding):"undefined"!=typeof t.data("rounding")?s.set_rounding.call(t,t.data("rounding")):s.set_rounding.call(t,1);var f=t.find(a.left_grip_selector)[0],h=$(f),p=$(t.find(a.right_grip_selector)[0]);"undefined"==typeof h.attr("tabindex")&&h.attr("tabindex",0);var v=!1;t.find(a.right_grip_selector).length>0&&(v=!0,"undefined"==typeof p.attr("tabindex")&&p.attr("tabindex",0)),t.data("has_right_grip",v),t.data("aria_enabled")===!0&&(h.attr("role","slider").attr("aria-disabled","false"),v&&p.attr("role","slider").attr("aria-disabled","false")),t.bind("keyup.nstSlider",function(a){if(t.data("enabled")){switch(a.which){case 37:case 38:case 39:case 40:if(i===l){var e,o,c,u=d.getSliderWidthPx.call(t);if(0>n-_){for(o=_;u>=o;o++)if(e=s.round_value_according_to_rounding.call(t,d.getSliderValuesAtPositionPx.call(t,o,o)[1]),e!==l){c=o;break}}else for(o=_;o>=0;o--)if(e=s.round_value_according_to_rounding.call(t,d.getSliderValuesAtPositionPx.call(t,o,o)[1]),e!==l){c=o;break}r?d.validateAndMoveGripsToPx.call(t,c,d.getRightGripPositionPx.call(t)):d.validateAndMoveGripsToPx.call(t,d.getLeftGripPositionPx.call(t),c),d.notify_mouse_up_implicit.call(t,r)}}i=void 0,n=void 0,l=void 0,_=void 0}}),t.bind("keydown.nstSlider",function(a){if(t.data("enabled")){var e=function(a,e){var o=d.getLeftGripPositionPx.call(t),c=d.getRightGripPositionPx.call(t);switch("undefined"==typeof i&&(n=r?o:c,i=r?s.get_current_min_value.call(t):s.get_current_max_value.call(t)),e.which){case 37:case 40:r?o--:c--,e.preventDefault();break;case 38:case 39:r?o++:c++,e.preventDefault()}_=r?o:c,d.validateAndMoveGripsToPx.call(t,o,c),l=r?s.get_current_min_value.call(t):s.get_current_max_value.call(t)};v&&t.find(":focus").is(p)?(r=!1,e.call(t,p,a)):(r=!0,e.call(t,h,a))}});var m=d.getLeftGripWidth.call(t),x=v?d.getRightGripWidth.call(t):m;if(t.data("left_grip_width",m),t.data("right_grip_width",x),t.data("value_bar_selector",a.value_bar_selector),!v){var b=g===c||g===o;d.setNakedBarDelta.call(t,b?"stickToSides":"middle",m)}o===c||u===g?s.set_range.call(t,o,c):d.set_position_from_val.call(t,t.data("cur_min"),t.data("cur_max")),d.notify_changed_implicit.call(t,"init"),t.data("beforestart_min",s.get_current_min_value.call(t)),t.data("beforestart_max",s.get_current_max_value.call(t)),t.bind("mousedown.nstSlider",function(e){d.drag_start_func.call(t,e,a,h,p,!1)}),e.bind("touchstart.nstSlider",function(e){d.drag_start_func_touch.call(t,e,a,h,p,!0)}),e.bind("touchend.nstSlider",function(a){d.drag_end_func_touch.call(t,a)}),e.bind("touchmove.nstSlider",function(a){d.drag_move_func_touch.call(t,a)});var y=t.data("histogram");"undefined"!=typeof y&&s.set_step_histogram.call(t,y)})},get_range_min:function(){var t=this;return t.data("range_min")},get_range_max:function(){var t=this;return t.data("range_max")},get_current_min_value:function(){var t,a=$(this),e=s.get_range_min.call(a),r=s.get_range_max.call(a),i=a.data("cur_min");if(t=e>=i?e:s.round_value_according_to_rounding.call(a,i),d.haveLimits.call(a)){if(e>=t)return a.data("lower-limit");if(t>=r)return a.data("upper-limit")}else{if(e>=t)return e;if(t>=r)return r}return t},get_current_max_value:function(){var t,a=$(this),e=s.get_range_min.call(a),r=s.get_range_max.call(a),i=a.data("cur_max");if(t=i>=r?r:s.round_value_according_to_rounding.call(a,i),d.haveLimits.call(a)){if(t>=r)return a.data("upper-limit");if(e>=t)return a.data("lower-limit")}else{if(t>=r)return r;if(e>=t)return e}return t},is_handle_to_left_extreme:function(){var t=this;return d.haveLimits.call(t)?t.data("lower-limit")===s.get_current_min_value.call(t):s.get_range_min.call(t)===s.get_current_min_value.call(t)},is_handle_to_right_extreme:function(){var t=this;return d.haveLimits.call(t)?t.data("upper-limit")===s.get_current_max_value.call(t):s.get_range_max.call(t)===s.get_current_max_value.call(t)},refresh:function(){var t=this,a=t.data("last_step_histogram");"undefined"!=typeof a&&s.set_step_histogram.call(t,a),d.set_position_from_val.call(t,s.get_current_min_value.call(t),s.get_current_max_value.call(t));var e=t.data("highlightedRangeMin");if("number"==typeof e){var r=t.data("highlightedRangeMax");s.highlight_range.call(t,e,r)}return d.notify_changed_implicit.call(t,"refresh"),t},disable:function(){var t=this,a=t.data("settings");return t.data("enabled",!1).find(a.left_grip_selector).attr("aria-disabled","true").end().find(a.right_grip_selector).attr("aria-disabled","true"),t},enable:function(){var t=this,a=t.data("settings");return t.data("enabled",!0).find(a.left_grip_selector).attr("aria-disabled","false").end().find(a.right_grip_selector).attr("aria-disabled","false"),t},is_enabled:function(){var t=this;return t.data("enabled")},set_position:function(t,a){var e=this,r=e.data("cur_min"),i=e.data("cur_max");t>a?d.set_position_from_val.call(e,a,t):d.set_position_from_val.call(e,t,a),d.refresh_grips_style.call(e),d.notify_changed_implicit.call(e,"set_position",r,i),e.data("beforestart_min",t),e.data("beforestart_max",a)},set_step_histogram:function(t){var a=this;a.data("last_step_histogram",t),"undefined"==typeof t&&($.error("got an undefined histogram in set_step_histogram"),d.unset_step_histogram.call(a));var e=d.getSliderWidthPx.call(a)-a.data("left_grip_width"),r=t.length;if(!(0>=e)){var i,n=0;for(i=0;r>i;i++)n+=t[i];if(0===n)return s.unset_step_histogram.call(a),a;var l=parseFloat(n)/e;for(i=0;r>i;i++)t[i]=t[i]/l;var _=[t[0]];for(i=1;r>i;i++){var o=_[i-1]+t[i];_.push(o)}_.push(e);for(var c=[a.data("range_min")],u=0,g=c[0],f=0;e>=u;){var h=parseInt(_.shift(),10),p=d.inverse_rangemap_0_to_n.call(a,f+1,r+1);f++;var v=h-u,m=p-g;for(i=u;h>i;i++){var x=g+m*(i-u+1)/v;c.push(x),u++,g=x}if(u===e)break}c[c.length-1]=a.data("range_max");var b=function(t){return c[parseInt(t,10)]},y=function(t){var e=d.binarySearch.call(a,c,t,function(t,a){return t[a]},d.binarySearchValueToPxCompareFunc);return c[e]===t?e:Math.abs(c[e-1]-t)<Math.abs(c[e]-t)?e-1:e};return a.data("pixel_to_value_mapping",b),a.data("value_to_pixel_mapping",y),a}},unset_step_histogram:function(){var t=this;return t.removeData("pixel_to_value_mapping"),t.removeData("value_to_pixel_mapping"),t.removeData("last_step_histogram"),t},set_range:function(t,a){var e=this,r=s.get_current_min_value.call(e),i=s.get_current_max_value.call(e);return e.data("range_min",t),e.data("range_max",a),d.set_position_from_val.call(e,r,i),d.notify_changed_implicit.call(e,"set_range",r,i),e},highlight_range:function(t,a){var e=this,r=e.data("settings");"undefined"==typeof r.highlight&&$.error('you cannot call highlight_range if you haven\' specified the "highlight" parameter in construction!'),t||(t=0),a||(a=0);var i=s.value_to_px.call(e,t),n=s.value_to_px.call(e,a),l=n-i+e.data("left_grip_width"),_=e.find(r.highlight.panel_selector);return _.css("left",i+"px"),_.css("width",l+"px"),e.data("highlightedRangeMin",t),e.data("highlightedRangeMax",a),d.refresh_grips_style.call(e),e},set_rounding:function(t){var a=this;"string"==typeof t&&t.indexOf("{")>-1&&(t=$.parseJSON(t)),a.data("rounding",t);var e=[];if("object"==typeof t){var r;for(r in t)if(t.hasOwnProperty(r)){var i=t[r];e.push({range:i,value:r})}e.sort(function(t,a){return t.range-a.range}),a.data("rounding_ranges",e)}else a.removeData("rounding_ranges");return a},get_rounding:function(){var t=this;return t.data("rounding")},round_value_according_to_rounding:function(t){var a=this,e=d.get_rounding_for_value.call(a,t);if(e>0){var r=t/e,i=parseInt(r,10),n=r-i;n>.5&&i++;var l=i*e;return l}return $.error("rounding must be > 0, got "+e+" instead"),t},value_to_px:function(t){var a=this,e=a.data("value_to_pixel_mapping");if("undefined"!=typeof e)return e(t);var r=d.getSliderWidthPx.call(a)-a.data("left_grip_width");return d.rangemap_0_to_n.call(a,t,r)}},c="nstSlider";return $.fn[c]=function(t){if(s[t]){if(this.data("initialized")===!0)return s[t].apply(this,Array.prototype.slice.call(arguments,1));throw new Error("method "+t+" called on an uninitialized instance of "+c)}return"object"!=typeof t&&t?void $.error("Cannot call method "+t):(this.data("initialized",!0),s.init.apply(this,arguments))},$.fn.nstSlider}()});