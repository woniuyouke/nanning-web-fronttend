define("common:components/ui/nstSlider/jquery.nstSlider.js",function(t){var a=t("common:components/jquery/jquery.js");!function(){var t,e,r,i,n,l,_,o,d,s={setNakedBarDelta:function(t,a){if("stickToSides"===t)d={toEndWidth:a,toBeginLeft:0,toBeginWidth:a};else{if("middle"!==t)throw new Error("unknown position of setNakedBarDelta: "+t);d={toEndWidth:a/2,toBeginLeft:a/2,toBeginWidth:a/2}}},getSliderValuesAtPositionPx:function(t,a){var e,r,i=this,n=i.data("pixel_to_value_mapping");if("undefined"!=typeof n)e=n(t),r=n(a);else{var l=s.getSliderWidthPx.call(i)-i.data("left_grip_width");e=s.inverse_rangemap_0_to_n.call(i,t,l),r=s.inverse_rangemap_0_to_n.call(i,a,l)}return[e,r]},validateAndMoveGripsToPx:function(t,a){var e=this,r=s.getSliderWidthPx.call(e)-e.data("left_grip_width");if(r>=a&&t>=0&&r>=t&&(!e.data("has_right_grip")||a>=t)){var i=e.data("cur_min"),n=e.data("cur_max");s.set_position_from_px.call(e,t,a),s.refresh_grips_style.call(e),s.notify_changed_implicit.call(e,"drag_move",i,n)}return e},updateAriaAttributes:function(){var t=this,a=t.data("settings"),e=t.find(a.left_grip_selector);if(t.data("has_right_grip")){var r=t.find(a.right_grip_selector);e.attr("aria-valuemin",t.data("range_min")).attr("aria-valuenow",c.get_current_min_value.call(t)).attr("aria-valuemax",c.get_current_max_value.call(t)),r.attr("aria-valuemin",c.get_current_min_value.call(t)).attr("aria-valuenow",c.get_current_max_value.call(t)).attr("aria-valuemax",t.data("range_max"))}else e.attr("aria-valuemin",t.data("range_min")).attr("aria-valuenow",c.get_current_min_value.call(t)).attr("aria-valuemax",t.data("range_max"));return t},getSliderWidthPx:function(){var t=this;return Math.round(t.width())},getGripPositionPx:function(t){return parseInt(t.css("left").replace("px",""),10)},getLeftGripPositionPx:function(){var t=this,a=t.data("settings"),e=t.find(a.left_grip_selector);return s.getGripPositionPx.call(t,e)},getRightGripPositionPx:function(){var t=this,a=t.data("settings");if(t.data("has_right_grip"))return s.getGripPositionPx.call(t,t.find(a.right_grip_selector));var e=s.getSliderWidthPx.call(t)-t.data("left_grip_width");return s.rangemap_0_to_n.call(t,t.data("cur_max"),e)},getLeftGripWidth:function(){var t=this,a=t.data("settings"),e=t.find(a.left_grip_selector);return Math.round(e.width())},getRightGripWidth:function(){var t=this,a=t.data("settings"),e=t.find(a.right_grip_selector);return Math.round(e.width())},binarySearchValueToPxCompareFunc:function(t,e,r){return t===e[r]?0:t<e[r]&&0===r?0:e[r-1]<=t&&t<e[r]?0:t>e[r]?1:t<=e[r-1]?-1:void a.error("cannot compare s: "+t+" with a["+r+"]. a is: "+e.join(","))},binarySearch:function(t,a,e,r){for(var i,n,l=0,_=t.length-1;_>=l;){i=(l+_)/2|0,n=e(t,i);var o=r(a,t,i);if(o>0)l=i+1;else{if(!(0>o))return i;_=i-1}}return-1},haveLimits:function(){var t=this,a=t.data("lower-limit"),e=t.data("upper-limit"),r=!1;return"undefined"!=typeof a&&"undefined"!=typeof e&&(r=!0),r},refresh_grips_style:function(){var t=this,a=t.data("settings");if("undefined"!=typeof a.highlight){var e=t.data("highlightedRangeMin");if("undefined"!=typeof e){var r=t.find(a.left_grip_selector),i=t.find(a.right_grip_selector),n=t.data("highlightedRangeMax"),l=t.data("cur_min"),_=t.data("cur_max"),o=a.highlight.grip_class;e>l||l>n?r.removeClass(o):r.addClass(o),e>_||_>n?i.removeClass(o):i.addClass(o)}}},set_position_from_val:function(t,a){var e=this,r=e.data("range_min"),i=e.data("range_max");r>t&&(t=r),t>i&&(t=i),e.data("has_right_grip")?(a>i&&(a=i),r>a&&(a=r)):a=e.data("cur_max");var n=c.value_to_px.call(e,t),l=c.value_to_px.call(e,a);return s.set_handles_at_px.call(e,n,l),e.data("cur_min",t),e.data("has_right_grip")&&e.data("cur_max",a),e},set_position_from_px:function(t,a){var e=this;s.set_handles_at_px.call(e,t,a);var r=s.getSliderValuesAtPositionPx.call(e,t,a),i=r[0],n=r[1];return e.data("cur_min",i),e.data("has_right_grip")&&e.data("cur_max",n),e},set_handles_at_px:function(t,a){var e=this,r=e.data("settings"),i=r.left_grip_selector,n=r.right_grip_selector,l=r.value_bar_selector,_=e.data("left_grip_width");return e.find(i).css("left",t+"px"),e.find(n).css("left",a+"px"),e.data("has_right_grip")?e.find(l).css("left",t+"px").css("width",a-t+_+"px"):(d||s.populateNakedBarDeltas.call(e,t,a,_),a>t?e.find(l).css("left",t+"px").css("width",a-t+d.toEndWidth+"px"):e.find(l).css("left",a+d.toBeginLeft+"px").css("width",t-a+d.toBeginWidth+"px")),e},drag_start_func_touch:function(t,a,e,i,n){var l=this,_=t.originalEvent,o=_.touches[0],d=o.pageY,c=o.pageX,u=Math.abs(l.offset().top-d),g=l.offset().left,f=g-c,h=c-(g+l.width());u>a.touch_tolerance_value_bar_y||f>a.touch_tolerance_value_bar_x||h>a.touch_tolerance_value_bar_x||(_.preventDefault(),r=o.pageX,s.drag_start_func.call(l,o,a,e,i,n))},drag_start_func:function(r,n,l,_,o){var d=this;if(d.find(n.left_grip_selector+","+n.value_bar_selector+","+n.right_grip_selector).removeClass(n.animating_css_class),c.is_enabled.call(d)){var u=a(r.target),g=!1;if("object"==typeof n.highlight&&(g=u.is(n.highlight.panel_selector)),o!==!1||u.is(n.left_grip_selector)||u.is(n.right_grip_selector)||u.is(n.value_bar_selector)||g||u.is(d)){t=d;var f,h,p,v,m,x,b=s.getGripPositionPx.call(d,l),y=s.getSliderWidthPx.call(d)-d.data("left_grip_width"),P=l.offset().left,w=s.getRightGripPositionPx.call(d);h=Math.round(r.pageX)-d.data("left_grip_width")/2,p=Math.abs(P-h),m=h-P,d.data("has_right_grip")?(f=_.offset().left,v=Math.abs(f-h),x=h-f):(v=2*p,x=2*m),n.user_drag_start_callback.call(d,r),p===v?P>h?(b+=m,i=!0):(w+=x,i=!1):v>p?(b+=m,i=!0):(w+=x,i=!1),d.data("has_right_grip")?w>y&&(w=y):b>y&&(b=y),0>b&&(b=0),e=!0;var S=d.data("cur_min"),G=d.data("cur_max");s.set_position_from_px.call(d,b,w),s.refresh_grips_style.call(d),s.notify_changed_implicit.call(d,"drag_start",S,G),"[object Touch]"!==Object.prototype.toString.apply(r)&&r.preventDefault()}}},drag_move_func_touch:function(t){if(e===!0){var a=t.originalEvent;a.preventDefault();var r=a.touches[0];s.drag_move_func(r)}},drag_move_func:function(a){if(e){var n=t,l=n.data("settings"),_=s.getSliderWidthPx.call(n)-n.data("left_grip_width"),o=s.getLeftGripPositionPx.call(n),d=s.getRightGripPositionPx.call(n),c=Math.round(a.pageX),u=c-r,g=n.data("left_grip_width")/2,f=n.offset().left+n.data("left_grip_width")-g,h=f+_;l.crossable_handles===!1&&n.data("has_right_grip")&&(i?h=f+d:f+=o);var p=0,v=0;f>c&&(p=1,v=0),c>h&&(v=1,p=0),l.crossable_handles===!0&&n.data("has_right_grip")&&(i?_>=d&&o+u>d&&(i=!1,o=d):o>=0&&o>d+u&&(i=!0,d=o));var m=o,x=d;(u>0&&!p||0>u&&!v)&&(i?m+=u:x+=u),s.validateAndMoveGripsToPx.call(n,m,x),r=c,"[object Touch]"!==Object.prototype.toString.apply(a)&&a.preventDefault()}},drag_end_func_touch:function(t){var a=t.originalEvent;a.preventDefault();var e=a.touches[0];s.drag_end_func(e)},drag_end_func:function(){var a=t;if("undefined"!=typeof a){e=!1,r=void 0,s.notify_mouse_up_implicit.call(a,i),t=void 0;var n=a.data("settings");a.find(n.left_grip_selector+","+n.value_bar_selector+","+n.right_grip_selector).addClass(n.animating_css_class)}},get_rounding_for_value:function(t){var a=this,e=a.data("rounding"),r=a.data("rounding_ranges");if("object"==typeof r){var i=s.binarySearch.call(a,r,t,function(t,a){return t[a].range},function(t,a,e){return t<a[e].range?e>0?t>=a[e-1].range?0:-1:0:1});if(e=1,i>-1)e=parseInt(r[i].value,10);else{var n=r.length-1;t>=r[n].range&&(e=r[n].value)}}return e},notify_mouse_up_implicit:function(t){var a=this,e=c.get_current_min_value.call(a),r=c.get_current_max_value.call(a),i=!1;(a.data("beforestart_min")!==e||a.data("beforestart_max")!==r)&&(i=!0,a.data("beforestart_min",e),a.data("beforestart_max",r));var n=a.data("settings");return n.user_mouseup_callback.call(a,c.get_current_min_value.call(a),c.get_current_max_value.call(a),t,i),a},notify_changed_implicit:function(t,a,e){var r=this,i=!1;("init"===t||"refresh"===t)&&(i=!0);var n=c.get_current_min_value.call(r),l=c.get_current_max_value.call(r);return i||(a=c.round_value_according_to_rounding.call(r,a),e=c.round_value_according_to_rounding.call(r,e)),(i||n!==a||l!==e)&&(s.notify_changed_explicit.call(r,t,a,e,n,l),i=1),i},notify_changed_explicit:function(t,a,e,r,i){var n=this,l=n.data("settings");return n.data("aria_enabled")&&s.updateAriaAttributes.call(n),l.value_changed_callback.call(n,t,r,i,a,e),n},validate_params:function(t){var e=this,r=e.data("range_min"),i=e.data("range_max"),n=e.data("cur_min"),l=e.data("lower-limit"),_=e.data("upper-limit"),o=s.haveLimits.call(e);"undefined"==typeof r&&a.error("the data-range_min attribute was not defined"),"undefined"==typeof i&&a.error("the data-range_max attribute was not defined"),"undefined"==typeof n&&a.error("the data-cur_min attribute must be defined"),r>i&&a.error("Invalid input parameter. must be min < max"),o&&l>_&&a.error("Invalid data-lower-limit or data-upper-limit"),0===e.find(t.left_grip_selector).length&&a.error("Cannot find element pointed by left_grip_selector: "+t.left_grip_selector),"undefined"!=typeof t.right_grip_selector&&0===e.find(t.right_grip_selector).length&&a.error("Cannot find element pointed by right_grip_selector: "+t.right_grip_selector),"undefined"!=typeof t.value_bar_selector&&0===e.find(t.value_bar_selector).length&&a.error("Cannot find element pointed by value_bar_selector"+t.value_bar_selector)},rangemap_0_to_n:function(t,a){var e=this,r=e.data("range_min"),i=e.data("range_max");return r>=t?0:t>=i?a:Math.floor((a*t-a*r)/(i-r))},inverse_rangemap_0_to_n:function(t,a){var e=this,r=e.data("range_min"),i=e.data("range_max");if(0>=t)return r;if(t>=a)return i;var n=(i-r)*t/a;return n+r}},c={teardown:function(){var t=this;return t.removeData(),a(document).unbind("mousemove.nstSlider").unbind("mouseup.nstSlider"),t.parent().unbind("mousedown.nstSlider").unbind("touchstart.nstSlider").unbind("touchmove.nstSlider").unbind("touchend.nstSlider"),t.unbind("keydown.nstSlider").unbind("keyup.nstSlider"),t},init:function(t){var e=a.extend({animating_css_class:"nst-animating",touch_tolerance_value_bar_y:30,touch_tolerance_value_bar_x:15,left_grip_selector:".nst-slider-grip-left",right_grip_selector:void 0,highlight:void 0,rounding:void 0,value_bar_selector:void 0,crossable_handles:!0,value_changed_callback:function(){},user_mouseup_callback:function(){},user_drag_start_callback:function(){}},t),r=a(document);return r.unbind("mouseup.nstSlider"),r.unbind("mousemove.nstSlider"),r.bind("mousemove.nstSlider",s.drag_move_func),r.bind("mouseup.nstSlider",s.drag_end_func),this.each(function(){var t=a(this),r=t.parent();t.data("enabled",!0);var d=t.data("range_min"),u=t.data("range_max"),g=t.data("cur_min"),f=t.data("cur_max");"undefined"==typeof f&&(f=g),""===d&&(d=0),""===u&&(u=0),""===g&&(g=0),""===f&&(f=0),t.data("range_min",d),t.data("range_max",u),t.data("cur_min",g),t.data("cur_max",f),s.validate_params.call(t,e),t.data("settings",e),"undefined"!=typeof e.rounding?c.set_rounding.call(t,e.rounding):"undefined"!=typeof t.data("rounding")?c.set_rounding.call(t,t.data("rounding")):c.set_rounding.call(t,1);var h=t.find(e.left_grip_selector)[0],p=a(h),v=a(t.find(e.right_grip_selector)[0]);"undefined"==typeof p.attr("tabindex")&&p.attr("tabindex",0);var m=!1;t.find(e.right_grip_selector).length>0&&(m=!0,"undefined"==typeof v.attr("tabindex")&&v.attr("tabindex",0)),t.data("has_right_grip",m),t.data("aria_enabled")===!0&&(p.attr("role","slider").attr("aria-disabled","false"),m&&v.attr("role","slider").attr("aria-disabled","false")),t.bind("keyup.nstSlider",function(a){if(t.data("enabled")){switch(a.which){case 37:case 38:case 39:case 40:if(n===_){var e,r,d,u=s.getSliderWidthPx.call(t);if(0>l-o){for(r=o;u>=r;r++)if(e=c.round_value_according_to_rounding.call(t,s.getSliderValuesAtPositionPx.call(t,r,r)[1]),e!==_){d=r;break}}else for(r=o;r>=0;r--)if(e=c.round_value_according_to_rounding.call(t,s.getSliderValuesAtPositionPx.call(t,r,r)[1]),e!==_){d=r;break}i?s.validateAndMoveGripsToPx.call(t,d,s.getRightGripPositionPx.call(t)):s.validateAndMoveGripsToPx.call(t,s.getLeftGripPositionPx.call(t),d),s.notify_mouse_up_implicit.call(t,i)}}n=void 0,l=void 0,_=void 0,o=void 0}}),t.bind("keydown.nstSlider",function(a){if(t.data("enabled")){var e=function(a,e){var r=s.getLeftGripPositionPx.call(t),d=s.getRightGripPositionPx.call(t);switch("undefined"==typeof n&&(l=i?r:d,n=i?c.get_current_min_value.call(t):c.get_current_max_value.call(t)),e.which){case 37:case 40:i?r--:d--,e.preventDefault();break;case 38:case 39:i?r++:d++,e.preventDefault()}o=i?r:d,s.validateAndMoveGripsToPx.call(t,r,d),_=i?c.get_current_min_value.call(t):c.get_current_max_value.call(t)};m&&t.find(":focus").is(v)?(i=!1,e.call(t,v,a)):(i=!0,e.call(t,p,a))}});var x=s.getLeftGripWidth.call(t),b=m?s.getRightGripWidth.call(t):x;if(t.data("left_grip_width",x),t.data("right_grip_width",b),t.data("value_bar_selector",e.value_bar_selector),!m){var y=f===u||f===d;s.setNakedBarDelta.call(t,y?"stickToSides":"middle",x)}d===u||g===f?c.set_range.call(t,d,u):s.set_position_from_val.call(t,t.data("cur_min"),t.data("cur_max")),s.notify_changed_implicit.call(t,"init"),t.data("beforestart_min",c.get_current_min_value.call(t)),t.data("beforestart_max",c.get_current_max_value.call(t)),t.bind("mousedown.nstSlider",function(a){s.drag_start_func.call(t,a,e,p,v,!1)}),r.bind("touchstart.nstSlider",function(a){s.drag_start_func_touch.call(t,a,e,p,v,!0)}),r.bind("touchend.nstSlider",function(a){s.drag_end_func_touch.call(t,a)}),r.bind("touchmove.nstSlider",function(a){s.drag_move_func_touch.call(t,a)});var P=t.data("histogram");"undefined"!=typeof P&&c.set_step_histogram.call(t,P)})},get_range_min:function(){var t=this;return t.data("range_min")},get_range_max:function(){var t=this;return t.data("range_max")},get_current_min_value:function(){var t,e=a(this),r=c.get_range_min.call(e),i=c.get_range_max.call(e),n=e.data("cur_min");if(t=r>=n?r:c.round_value_according_to_rounding.call(e,n),s.haveLimits.call(e)){if(r>=t)return e.data("lower-limit");if(t>=i)return e.data("upper-limit")}else{if(r>=t)return r;if(t>=i)return i}return t},get_current_max_value:function(){var t,e=a(this),r=c.get_range_min.call(e),i=c.get_range_max.call(e),n=e.data("cur_max");if(t=n>=i?i:c.round_value_according_to_rounding.call(e,n),s.haveLimits.call(e)){if(t>=i)return e.data("upper-limit");if(r>=t)return e.data("lower-limit")}else{if(t>=i)return i;if(r>=t)return r}return t},is_handle_to_left_extreme:function(){var t=this;return s.haveLimits.call(t)?t.data("lower-limit")===c.get_current_min_value.call(t):c.get_range_min.call(t)===c.get_current_min_value.call(t)},is_handle_to_right_extreme:function(){var t=this;return s.haveLimits.call(t)?t.data("upper-limit")===c.get_current_max_value.call(t):c.get_range_max.call(t)===c.get_current_max_value.call(t)},refresh:function(){var t=this,a=t.data("last_step_histogram");"undefined"!=typeof a&&c.set_step_histogram.call(t,a),s.set_position_from_val.call(t,c.get_current_min_value.call(t),c.get_current_max_value.call(t));var e=t.data("highlightedRangeMin");if("number"==typeof e){var r=t.data("highlightedRangeMax");c.highlight_range.call(t,e,r)}return s.notify_changed_implicit.call(t,"refresh"),t},disable:function(){var t=this,a=t.data("settings");return t.data("enabled",!1).find(a.left_grip_selector).attr("aria-disabled","true").end().find(a.right_grip_selector).attr("aria-disabled","true"),t},enable:function(){var t=this,a=t.data("settings");return t.data("enabled",!0).find(a.left_grip_selector).attr("aria-disabled","false").end().find(a.right_grip_selector).attr("aria-disabled","false"),t},is_enabled:function(){var t=this;return t.data("enabled")},set_position:function(t,a){var e=this,r=e.data("cur_min"),i=e.data("cur_max");t>a?s.set_position_from_val.call(e,a,t):s.set_position_from_val.call(e,t,a),s.refresh_grips_style.call(e),s.notify_changed_implicit.call(e,"set_position",r,i),e.data("beforestart_min",t),e.data("beforestart_max",a)},set_step_histogram:function(t){var e=this;e.data("last_step_histogram",t),"undefined"==typeof t&&(a.error("got an undefined histogram in set_step_histogram"),s.unset_step_histogram.call(e));var r=s.getSliderWidthPx.call(e)-e.data("left_grip_width"),i=t.length;if(!(0>=r)){var n,l=0;for(n=0;i>n;n++)l+=t[n];if(0===l)return c.unset_step_histogram.call(e),e;var _=parseFloat(l)/r;for(n=0;i>n;n++)t[n]=t[n]/_;var o=[t[0]];for(n=1;i>n;n++){var d=o[n-1]+t[n];o.push(d)}o.push(r);for(var u=[e.data("range_min")],g=0,f=u[0],h=0;r>=g;){var p=parseInt(o.shift(),10),v=s.inverse_rangemap_0_to_n.call(e,h+1,i+1);h++;var m=p-g,x=v-f;for(n=g;p>n;n++){var b=f+x*(n-g+1)/m;u.push(b),g++,f=b}if(g===r)break}u[u.length-1]=e.data("range_max");var y=function(t){return u[parseInt(t,10)]},P=function(t){var a=s.binarySearch.call(e,u,t,function(t,a){return t[a]},s.binarySearchValueToPxCompareFunc);return u[a]===t?a:Math.abs(u[a-1]-t)<Math.abs(u[a]-t)?a-1:a};return e.data("pixel_to_value_mapping",y),e.data("value_to_pixel_mapping",P),e}},unset_step_histogram:function(){var t=this;return t.removeData("pixel_to_value_mapping"),t.removeData("value_to_pixel_mapping"),t.removeData("last_step_histogram"),t},set_range:function(t,a){var e=this,r=c.get_current_min_value.call(e),i=c.get_current_max_value.call(e);return e.data("range_min",t),e.data("range_max",a),s.set_position_from_val.call(e,r,i),s.notify_changed_implicit.call(e,"set_range",r,i),e},highlight_range:function(t,e){var r=this,i=r.data("settings");"undefined"==typeof i.highlight&&a.error('you cannot call highlight_range if you haven\' specified the "highlight" parameter in construction!'),t||(t=0),e||(e=0);var n=c.value_to_px.call(r,t),l=c.value_to_px.call(r,e),_=l-n+r.data("left_grip_width"),o=r.find(i.highlight.panel_selector);return o.css("left",n+"px"),o.css("width",_+"px"),r.data("highlightedRangeMin",t),r.data("highlightedRangeMax",e),s.refresh_grips_style.call(r),r},set_rounding:function(t){var e=this;"string"==typeof t&&t.indexOf("{")>-1&&(t=a.parseJSON(t)),e.data("rounding",t);var r=[];if("object"==typeof t){var i;for(i in t)if(t.hasOwnProperty(i)){var n=t[i];r.push({range:n,value:i})}r.sort(function(t,a){return t.range-a.range}),e.data("rounding_ranges",r)}else e.removeData("rounding_ranges");return e},get_rounding:function(){var t=this;return t.data("rounding")},round_value_according_to_rounding:function(t){var e=this,r=s.get_rounding_for_value.call(e,t);if(r>0){var i=t/r,n=parseInt(i,10),l=i-n;l>.5&&n++;var _=n*r;return _}return a.error("rounding must be > 0, got "+r+" instead"),t},value_to_px:function(t){var a=this,e=a.data("value_to_pixel_mapping");if("undefined"!=typeof e)return e(t);var r=s.getSliderWidthPx.call(a)-a.data("left_grip_width");return s.rangemap_0_to_n.call(a,t,r)}},u="nstSlider";return a.fn[u]=function(t){if(c[t]){if(this.data("initialized")===!0)return c[t].apply(this,Array.prototype.slice.call(arguments,1));throw new Error("method "+t+" called on an uninitialized instance of "+u)}return"object"!=typeof t&&t?void a.error("Cannot call method "+t):(this.data("initialized",!0),c.init.apply(this,arguments))},a.fn.nstSlider}()});