define("common:components/ui/numberInput/numberInput.js",function(t,n,a){var e=t("common:components/ui/zepto/zepto.js");+function(t,n){function e(t){this.options=n.extend({dom:null,max:"",min:"",step:"",value:"",currency:!1,editable:!1},t||{}),this.init()}function i(t){return this.each(function(){var a=n(this),i=a.data("numberInput"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||a.data("numberInput",i=new e(n.extend({dom:this},o))),"string"==typeof t&&i[t]())})}e.ADD_TEMPLATE='<input type="button" value="+" class="input-number-button"/>',e.MINUS_TEMPLATE='<input type="button" value="-" class="input-number-button"/>',e.prototype.init=function(){var t=this,a=t.options||{},i=t.dom=n(a.dom),o=(a.currency,["max","min","step","value"]);n.each(o,function(t,n){var o=a.val||i.attr(n);i.data(n,e.format(o))}),!a.editable&&i.attr("readonly",!0),t.generate(),t.detect(i.data("value"))},e.prototype.generate=function(){var t=this,a=t.dom;a.addClass("input-origin-button").wrap('<div class="ui-input-wrap"></div>').show(),t.add=n(e.ADD_TEMPLATE).insertAfter(a),t.minus=n(e.MINUS_TEMPLATE).insertBefore(a),t.bindEvent()},e.prototype.bindEvent=function(){var t=this,a=t.options,i=t.dom,o=i.data("min"),r=i.data("max");n(t.minus).add(t.add).bind("click",function(){t.operate(n(this).val())}),a.editable&&(i.bind("input",function(){var t=e.format(i.val()),n=t;if(""!==i.val())return t>=r&&(n=r),n=a.currency?e.addComma(n):n,i.val(n).data("value",n),!1}).bind("keydown",function(t){return t.which>=65&&t.which<=90||t.which<=111&&t.which>=106?!1:void 0}),i.bind("blur",function(){var r=n(this).val(),u=parseFloat(n(this).val());return o>=u&&i.val(o).data("value",o),t.detect(i.val()),a.currency&&n(this).val(e.addComma(r)),!1}))},e.prototype.operate=function(t){var n=this,a=n.options||{},i=n.dom,o=a.currency,r=parseFloat(t+i.data("step")),u=r+i.data("value"),d=o?e.addComma(u):u;u>=i.data("min")&&u<=i.data("max")&&i.val(d).data("value",u).change(),this.detect(u)},e.prototype.detect=function(t){var n=this,a=n.dom,e=a.data("min"),i=a.data("max"),o=this.add,r=this.minus;t>=i&&this.disable(o),e>=t&&this.disable(r),t>e&&this.enable(r),i>t&&this.enable(o)},e.prototype.disable=function(t){t.attr("disabled","disabled").addClass("input-number-disable")},e.prototype.enable=function(t){t.removeAttr("disabled").removeClass("input-number-disable")},e.format=function(t){return t+="",parseFloat(t.replace(/,/g,""))},e.addComma=function(t){t+="";var n=/(\d{1,3})(?=(\d{3})+(\.|$))/g;return t.replace(n,"$1,")};var o=n.fn.tooltip;n.fn.numberInput=i,n.fn.numberInput.Constructor=e,n.fn.numberInput.noConflict=function(){return n.fn.numberInput=o,this},a.exports=e}(window,e)});