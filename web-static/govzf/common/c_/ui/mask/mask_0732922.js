define("common:components/ui/mask/mask.js",function(o){var s=o("common:components/ui/zepto/zepto.js"),i=o("common:components/ui/class/class.js"),t=document;return i.$factory("mask",{initialize:function(o){this.options=s.extend({autoOpen:!0,dom:t.body,color:"#000",opacity:.4},o||{}),this.init()},init:function(){var o=this,i=o.container=s(o.options.dom);i[0]!=t.body&&!/fixed|absolute/.test(i.css("position"))&&i.css("position","relative"),o.mask=s('<div class="ui2-mask">').hide().css({backgroundColor:o.options.color,opacity:o.options.opacity}).appendTo(o.container),o.o2s(window,"resize",function(){o.resetPosition()}),o.options.autoOpen&&o.open()},open:function(){this.resetPosition(),this.mask.css("display","block"),this.trigger("open")},close:function(){this.mask.css("display","none"),this.trigger("close")},resetPosition:function(){var o=this.container[0];this.mask.css({width:o.scrollWidth||t.docElement.scrollWidth,height:o.scrollHeight||t.docElement.scrollHeight})},destroy:function(){this.mask.remove(),this.mask=null,this.ofs(window,"resize")}})});